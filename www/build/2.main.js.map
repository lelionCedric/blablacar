{"version":3,"sources":["../../src/pages/rechercher/rechercher.module.ts","webpack:///./src/pages/rechercher/rechercher.ts?12fd"],"names":[],"mappings":"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","file":"2.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { RechercherPage } from './rechercher';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RechercherPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(RechercherPage),\r\n  ],\r\n  exports: [\r\n    RechercherPage\r\n  ]\r\n})\r\nexport class RechercherPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rechercher/rechercher.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\n/**\r\n * Generated class for the RechercherPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-rechercher',\r\n    templateUrl: 'rechercher.html',\r\n})\r\nexport class RechercherPage {\r\n\r\n    voyage\r\n    userID\r\n    voyagesRes: FirebaseListObservable<any[]>;\r\n    filteredItems: Array<any>;\r\n    bdd : AngularFireDatabase;\r\n    user: Observable<firebase.User>;\r\n    reservationTrajet: FirebaseListObservable<any[]>;\r\n\r\n\r\nconstructor(public navCtrl: NavController, public navParams: NavParams, db: AngularFireDatabase, public afAuth: AngularFireAuth) {\r\n    this.user = afAuth.authState;\r\n    this.bdd= db;\r\n    this.user.subscribe((us)=> {\r\n        this.userID = us.uid\r\n    });\r\n    this.voyage={};\r\n    console.log(this.userID);\r\n    this.reservationTrajet = this.bdd.list('/users/'+this.userID+'/reservations');\r\n}\r\n\r\nionViewDidLoad() {\r\n    console.log('ionViewDidLoad RechercherPage');\r\n}\r\n\r\nsubmitRechercher(){\r\n    this.voyagesRes = this.bdd.list('/trajets');\r\n    this.voyagesRes.subscribe((voyageRes)=> {\r\n\r\n        this.filteredItems = [];\r\n        voyageRes.forEach(item => {\r\n            if( item.depart== this.voyage.villeDep) {\r\n                if( item.arrive == this.voyage.villeArr) {\r\n                    if(item.datedepart == this.voyage.dateVoy){\r\n                        this.filteredItems.push(item); \r\n                        console.log(item);\r\n                     }\r\n                }\r\n            } \r\n        })\r\n    });\r\n}\r\n\r\n\r\n    reserver(voyage: string){\r\n        var counter = 0;\r\n        this.reservationTrajet = this.bdd.list('/users/'+this.userID+'/reservations')\r\n        //console.log(this.userID);\r\n        console.log(voyage);\r\n        this.reservationTrajet.subscribe((reserves) =>{\r\n            reserves.forEach((reserve) => {\r\n                counter++;\r\n            })\r\n        });\r\n        this.reservationTrajet.update('trajet'+counter,{\r\n            \"idTrajetReserve\" : voyage\r\n        });\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rechercher/rechercher.ts"],"sourceRoot":""}